..ROM 0
CALL start
RETURN

..ROM 1
.LABEL start
INPUT
DUP
OUTPUT 0.0
INPUT
DUP
OUTPUT 0.1
CALL mul
POP %0
POP %1
PUSH %0
OUTPUT 0.2
PUSH %1
OUTPUT 0.3
RETURN

.LABEL mul
POP %0
CMP %0
.USEFLAGS
VALUE 0
DUP 
DUP
POP %1
POP %2
POP %3
BRANCH LO skipswap
SWAP %0
.LABEL skipswap
.LABEL loop
RSH
.USEFLAGS
BRANCH !C skipadd
PUSH %2
ADD %0
POP %2
PUSH %3
CADD %1
POP %3
.LABEL skipadd
KSETF
.USEFLAGS
PUSH %0
ADD %0
POP %0
BRANCH Z end
PUSH %1
CADD %1
POP %1
JUMP loop
.LABEL end
PSETF
PUSH %3
PUSH %2
RETURN